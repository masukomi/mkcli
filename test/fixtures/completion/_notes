#compdef notes
_notes(){
  local context="$curcontext" state state_descr line ret=1;
  typeset -A opt_args;

  _arguments -C \
    "1:cmd:->cmds" \
    "*::arg:->args" && ret=0

  case $state in
    (cmds)
      _values \
        "notes commands" \
        "add[Add a note]" \
        "del[Delete a note]" \
        "(ls list)"{ls,list}"[List notes]" \
        "show[Show a note]" \
        "edit[Edit a note]" && ret=0;
      ;;
    (args)
      _arguments \
        "(-f --file)"{-f=,--file=}"[File completion]:file:_files" \
        "(-d --directory)"{-d=,--directory=}"[Directory completion]:directory:_directories" \
        "*"{-u=,--url=}"[URL completion]:url:_urls" \
        "(-h --help)"{-h,--help}"[Display help and exit]" \
        "--version[Print version and exit]" \
        "*::files:_files" && ret=0;
      ;;
  esac
  return $ret;
}

_notes "$@"